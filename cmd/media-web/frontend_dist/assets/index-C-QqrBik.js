(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var de,h,Ye,Qe,I,ze,et,tt,rt,De,$e,ke,G={},nt=[],Ct=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ve=Array.isArray;function A(t,e){for(var r in e)t[r]=e[r];return t}function Ne(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Tt(t,e,r){var n,i,o,a={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?de.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return re(t,a,n,i,null)}function re(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Ye,__i:-1,__u:0};return i==null&&h.vnode!=null&&h.vnode(o),o}function X(t){return t.children}function J(t,e){this.props=t,this.context=e}function U(t,e){if(e==null)return t.__?U(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?U(t):null}function it(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return it(t)}}function He(t){(!t.__d&&(t.__d=!0)&&I.push(t)&&!ie.__r++||ze!=h.debounceRendering)&&((ze=h.debounceRendering)||et)(ie)}function ie(){for(var t,e,r,n,i,o,a,u=1;I.length;)I.length>u&&I.sort(tt),t=I.shift(),u=I.length,t.__d&&(r=void 0,n=void 0,i=(n=(e=t).__v).__e,o=[],a=[],e.__P&&((r=A({},n)).__v=n.__v+1,h.vnode&&h.vnode(r),Fe(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,o,i??U(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,at(o,r,a),n.__e=n.__=null,r.__e!=i&&it(r)));ie.__r=0}function ot(t,e,r,n,i,o,a,u,f,s,d){var l,m,c,b,x,S,y,p=n&&n.__k||nt,N=e.length;for(f=Pt(r,e,p,f,N),l=0;l<N;l++)(c=r.__k[l])!=null&&(m=c.__i==-1?G:p[c.__i]||G,c.__i=l,S=Fe(t,c,m,i,o,a,u,f,s,d),b=c.__e,c.ref&&m.ref!=c.ref&&(m.ref&&Be(m.ref,null,c),d.push(c.ref,c.__c||b,c)),x==null&&b!=null&&(x=b),(y=!!(4&c.__u))||m.__k===c.__k?f=lt(c,f,t,y):typeof c.type=="function"&&S!==void 0?f=S:b&&(f=b.nextSibling),c.__u&=-7);return r.__e=x,f}function Pt(t,e,r,n,i){var o,a,u,f,s,d=r.length,l=d,m=0;for(t.__k=new Array(i),o=0;o<i;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=t.__k[o]=re(null,a,null,null,null):ve(a)?a=t.__k[o]=re(X,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?a=t.__k[o]=re(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):t.__k[o]=a,f=o+m,a.__=t,a.__b=t.__b+1,u=null,(s=a.__i=Et(a,r,f,l))!=-1&&(l--,(u=r[s])&&(u.__u|=2)),u==null||u.__v==null?(s==-1&&(i>d?m--:i<d&&m++),typeof a.type!="function"&&(a.__u|=4)):s!=f&&(s==f-1?m--:s==f+1?m++:(s>f?m--:m++,a.__u|=4))):t.__k[o]=null;if(l)for(o=0;o<d;o++)(u=r[o])!=null&&(2&u.__u)==0&&(u.__e==n&&(n=U(u)),_t(u,u));return n}function lt(t,e,r,n){var i,o;if(typeof t.type=="function"){for(i=t.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=t,e=lt(i[o],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=U(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Et(t,e,r,n){var i,o,a,u=t.key,f=t.type,s=e[r],d=s!=null&&(2&s.__u)==0;if(s===null&&u==null||d&&u==s.key&&f==s.type)return r;if(n>(d?1:0)){for(i=r-1,o=r+1;i>=0||o<e.length;)if((s=e[a=i>=0?i--:o++])!=null&&(2&s.__u)==0&&u==s.key&&f==s.type)return a}return-1}function Me(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Ct.test(e)?r:r+"px"}function te(t,e,r,n,i){var o,a;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Me(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||Me(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(rt,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=De,t.addEventListener(e,o?ke:$e,o)):t.removeEventListener(e,o?ke:$e,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function Ue(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=De++;else if(e.t<r.u)return;return r(h.event?h.event(e):e)}}}function Fe(t,e,r,n,i,o,a,u,f,s){var d,l,m,c,b,x,S,y,p,N,O,Q,W,Ie,ee,q,ye,P=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(f=!!(32&r.__u),o=[u=e.__e=r.__e]),(d=h.__b)&&d(e);e:if(typeof P=="function")try{if(y=e.props,p="prototype"in P&&P.prototype.render,N=(d=P.contextType)&&n[d.__c],O=d?N?N.props.value:d.__:n,r.__c?S=(l=e.__c=r.__c).__=l.__E:(p?e.__c=l=new P(y,O):(e.__c=l=new J(y,O),l.constructor=P,l.render=Dt),N&&N.sub(l),l.state||(l.state={}),l.__n=n,m=l.__d=!0,l.__h=[],l._sb=[]),p&&l.__s==null&&(l.__s=l.state),p&&P.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=A({},l.__s)),A(l.__s,P.getDerivedStateFromProps(y,l.__s))),c=l.props,b=l.state,l.__v=e,m)p&&P.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),p&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(p&&P.getDerivedStateFromProps==null&&y!==c&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,O),e.__v==r.__v||!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,O)===!1){for(e.__v!=r.__v&&(l.props=y,l.state=l.__s,l.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(H){H&&(H.__=e)}),Q=0;Q<l._sb.length;Q++)l.__h.push(l._sb[Q]);l._sb=[],l.__h.length&&a.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,O),p&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(c,b,x)})}if(l.context=O,l.props=y,l.__P=t,l.__e=!1,W=h.__r,Ie=0,p){for(l.state=l.__s,l.__d=!1,W&&W(e),d=l.render(l.props,l.state,l.context),ee=0;ee<l._sb.length;ee++)l.__h.push(l._sb[ee]);l._sb=[]}else do l.__d=!1,W&&W(e),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++Ie<25);l.state=l.__s,l.getChildContext!=null&&(n=A(A({},n),l.getChildContext())),p&&!m&&l.getSnapshotBeforeUpdate!=null&&(x=l.getSnapshotBeforeUpdate(c,b)),q=d,d!=null&&d.type===X&&d.key==null&&(q=st(d.props.children)),u=ot(t,ve(q)?q:[q],e,r,n,i,o,a,u,f,s),l.base=e.__e,e.__u&=-161,l.__h.length&&a.push(l),S&&(l.__E=l.__=null)}catch(H){if(e.__v=null,f||o!=null)if(H.then){for(e.__u|=f?160:128;u&&u.nodeType==8&&u.nextSibling;)u=u.nextSibling;o[o.indexOf(u)]=null,e.__e=u}else{for(ye=o.length;ye--;)Ne(o[ye]);xe(e)}else e.__e=r.__e,e.__k=r.__k,H.then||xe(e);h.__e(H,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):u=e.__e=At(r.__e,e,r,n,i,o,a,f,s);return(d=h.diffed)&&d(e),128&e.__u?void 0:u}function xe(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(xe)}function at(t,e,r){for(var n=0;n<r.length;n++)Be(r[n],r[++n],r[++n]);h.__c&&h.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){h.__e(o,i.__v)}})}function st(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:ve(t)?t.map(st):A({},t)}function At(t,e,r,n,i,o,a,u,f){var s,d,l,m,c,b,x,S=r.props||G,y=e.props,p=e.type;if(p=="svg"?i="http://www.w3.org/2000/svg":p=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(s=0;s<o.length;s++)if((c=o[s])&&"setAttribute"in c==!!p&&(p?c.localName==p:c.nodeType==3)){t=c,o[s]=null;break}}if(t==null){if(p==null)return document.createTextNode(y);t=document.createElementNS(i,p,y.is&&y),u&&(h.__m&&h.__m(e,o),u=!1),o=null}if(p==null)S===y||u&&t.data==y||(t.data=y);else{if(o=o&&de.call(t.childNodes),!u&&o!=null)for(S={},s=0;s<t.attributes.length;s++)S[(c=t.attributes[s]).name]=c.value;for(s in S)if(c=S[s],s!="children"){if(s=="dangerouslySetInnerHTML")l=c;else if(!(s in y)){if(s=="value"&&"defaultValue"in y||s=="checked"&&"defaultChecked"in y)continue;te(t,s,null,c,i)}}for(s in y)c=y[s],s=="children"?m=c:s=="dangerouslySetInnerHTML"?d=c:s=="value"?b=c:s=="checked"?x=c:u&&typeof c!="function"||S[s]===c||te(t,s,c,S[s],i);if(d)u||l&&(d.__html==l.__html||d.__html==t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(l&&(t.innerHTML=""),ot(e.type=="template"?t.content:t,ve(m)?m:[m],e,r,n,p=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:r.__k&&U(r,0),u,f),o!=null)for(s=o.length;s--;)Ne(o[s]);u||(s="value",p=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[s]||p=="progress"&&!b||p=="option"&&b!=S[s])&&te(t,s,b,S[s],i),s="checked",x!=null&&x!=t[s]&&te(t,s,x,S[s],i))}return t}function Be(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){h.__e(i,r)}}function _t(t,e,r){var n,i;if(h.unmount&&h.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||Be(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){h.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&_t(n[i],e,r||typeof t.type!="function");r||Ne(t.__e),t.__c=t.__=t.__e=void 0}function Dt(t,e,r){return this.constructor(t,r)}function Nt(t,e,r){var n,i,o,a;e==document&&(e=document.documentElement),h.__&&h.__(t,e),i=(n=!1)?null:e.__k,o=[],a=[],Fe(e,t=e.__k=Tt(X,null,[t]),i||G,G,e.namespaceURI,i?null:e.firstChild?de.call(e.childNodes):null,o,i?i.__e:e.firstChild,n,a),at(o,t,a)}de=nt.slice,h={__e:function(t,e,r,n){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),a=i.__d),a)return i.__E=i}catch(u){t=u}throw t}},Ye=0,Qe=function(t){return t!=null&&t.constructor===void 0},J.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=A({},this.state),typeof t=="function"&&(t=t(A({},r),this.props)),t&&A(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),He(this))},J.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),He(this))},J.prototype.render=X,I=[],et=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tt=function(t,e){return t.__v.__b-e.__v.__b},ie.__r=0,rt=/(PointerCapture)$|Capture$/i,De=0,$e=Ue(!1),ke=Ue(!0);var Ft=0;function _(t,e,r,n,i,o){e||(e={});var a,u,f=e;if("ref"in f)for(u in f={},e)u=="ref"?a=e[u]:f[u]=e[u];var s={type:t,props:f,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ft,__i:-1,__u:0,__source:i,__self:o};if(typeof t=="function"&&(a=t.defaultProps))for(u in a)f[u]===void 0&&(f[u]=a[u]);return h.vnode&&h.vnode(s),s}var oe,k,ge,Le,Re=0,ut=[],g=h,je=g.__b,We=g.__r,qe=g.diffed,Je=g.__c,Ve=g.unmount,Ke=g.__;function ct(t,e){g.__h&&g.__h(k,t,Re||e),Re=0;var r=k.__H||(k.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function ft(t,e){var r=ct(oe++,3);!g.__s&&vt(r.__H,e)&&(r.__=t,r.u=e,k.__H.__h.push(r))}function dt(t,e){var r=ct(oe++,7);return vt(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function Bt(){for(var t;t=ut.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ne),t.__H.__h.forEach(Ce),t.__H.__h=[]}catch(e){t.__H.__h=[],g.__e(e,t.__v)}}g.__b=function(t){k=null,je&&je(t)},g.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Ke&&Ke(t,e)},g.__r=function(t){We&&We(t),oe=0;var e=(k=t.__c).__H;e&&(ge===k?(e.__h=[],k.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(ne),e.__h.forEach(Ce),e.__h=[],oe=0)),ge=k},g.diffed=function(t){qe&&qe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ut.push(e)!==1&&Le===g.requestAnimationFrame||((Le=g.requestAnimationFrame)||Ot)(Bt)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),ge=k=null},g.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ne),r.__h=r.__h.filter(function(n){return!n.__||Ce(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],g.__e(n,r.__v)}}),Je&&Je(t,e)},g.unmount=function(t){Ve&&Ve(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ne(n)}catch(i){e=i}}),r.__H=void 0,e&&g.__e(e,r.__v))};var Ge=typeof requestAnimationFrame=="function";function Ot(t){var e,r=function(){clearTimeout(n),Ge&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);Ge&&(e=requestAnimationFrame(r))}function ne(t){var e=k,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),k=e}function Ce(t){var e=k;t.__c=t.__(),k=e}function vt(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}var It=Symbol.for("preact-signals");function he(){if(B>1)B--;else{for(var t,e=!1;V!==void 0;){var r=V;for(V=void 0,Te++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&mt(r))try{r.c()}catch(i){e||(t=i,e=!0)}r=n}}if(Te=0,B--,e)throw t}}function zt(t){if(B>0)return t();B++;try{return t()}finally{he()}}var v=void 0;function ht(t){var e=v;v=void 0;try{return t()}finally{v=e}}var V=void 0,B=0,Te=0,le=0;function pt(t){if(v!==void 0){var e=t.n;if(e===void 0||e.t!==v)return e={i:0,S:t,p:v.s,n:void 0,t:v,e:void 0,x:void 0,r:e},v.s!==void 0&&(v.s.n=e),v.s=e,t.n=e,32&v.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=v.s,e.n=void 0,v.s.n=e,v.s=e),e}}function $(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}$.prototype.brand=It;$.prototype.h=function(){return!0};$.prototype.S=function(t){var e=this,r=this.t;r!==t&&t.e===void 0&&(t.x=r,this.t=t,r!==void 0?r.e=t:ht(function(){var n;(n=e.W)==null||n.call(e)}))};$.prototype.U=function(t){var e=this;if(this.t!==void 0){var r=t.e,n=t.x;r!==void 0&&(r.x=n,t.e=void 0),n!==void 0&&(n.e=r,t.x=void 0),t===this.t&&(this.t=n,n===void 0&&ht(function(){var i;(i=e.Z)==null||i.call(e)}))}};$.prototype.subscribe=function(t){var e=this;return Y(function(){var r=e.value,n=v;v=void 0;try{t(r)}finally{v=n}},{name:"sub"})};$.prototype.valueOf=function(){return this.value};$.prototype.toString=function(){return this.value+""};$.prototype.toJSON=function(){return this.value};$.prototype.peek=function(){var t=v;v=void 0;try{return this.value}finally{v=t}};Object.defineProperty($.prototype,"value",{get:function(){var t=pt(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(Te>100)throw new Error("Cycle detected");this.v=t,this.i++,le++,B++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{he()}}}});function w(t,e){return new $(t,e)}function mt(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function yt(t){for(var e=t.s;e!==void 0;e=e.n){var r=e.S.n;if(r!==void 0&&(e.r=r),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function gt(t){for(var e=t.s,r=void 0;e!==void 0;){var n=e.p;e.i===-1?(e.S.U(e),n!==void 0&&(n.n=e.n),e.n!==void 0&&(e.n.p=n)):r=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=n}t.s=r}function z(t,e){$.call(this,void 0),this.x=t,this.s=void 0,this.g=le-1,this.f=4,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}z.prototype=new $;z.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===le))return!0;if(this.g=le,this.f|=1,this.i>0&&!mt(this))return this.f&=-2,!0;var t=v;try{yt(this),v=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return v=t,gt(this),this.f&=-2,!0};z.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}$.prototype.S.call(this,t)};z.prototype.U=function(t){if(this.t!==void 0&&($.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};z.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(z.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=pt(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function Pe(t,e){return new z(t,e)}function bt(t){var e=t.u;if(t.u=void 0,typeof e=="function"){B++;var r=v;v=void 0;try{e()}catch(n){throw t.f&=-2,t.f|=8,Oe(t),n}finally{v=r,he()}}}function Oe(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,bt(t)}function Ht(t){if(v!==this)throw new Error("Out-of-order effect");gt(this),v=t,this.f&=-2,8&this.f&&Oe(this),he()}function R(t,e){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e==null?void 0:e.name}R.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};R.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,bt(this),yt(this),B++;var t=v;return v=this,Ht.bind(this,t)};R.prototype.N=function(){2&this.f||(this.f|=2,this.o=V,V=this)};R.prototype.d=function(){this.f|=8,1&this.f||Oe(this)};R.prototype.dispose=function(){this.d()};function Y(t,e){var r=new R(t,e);try{r.c()}catch(i){throw r.d(),i}var n=r.d.bind(r);return n[Symbol.dispose]=n,n}var wt,be,Mt=typeof window<"u"&&!!window.__PREACT_SIGNALS_DEVTOOLS__,St=[];Y(function(){wt=this.N})();function j(t,e){h[t]=e.bind(null,h[t]||function(){})}function ae(t){be&&be(),be=t&&t.S()}function $t(t){var e=this,r=t.data,n=Lt(r);n.value=r;var i=dt(function(){for(var u=e,f=e.__v;f=f.__;)if(f.__c){f.__c.__$f|=4;break}var s=Pe(function(){var c=n.value.value;return c===0?0:c===!0?"":c||""}),d=Pe(function(){return!Array.isArray(s.value)&&!Qe(s.value)}),l=Y(function(){if(this.N=kt,d.value){var c=s.value;u.__v&&u.__v.__e&&u.__v.__e.nodeType===3&&(u.__v.__e.data=c)}}),m=e.__$u.d;return e.__$u.d=function(){l(),m.call(this)},[d,s]},[]),o=i[0],a=i[1];return o.value?a.peek():a.value}$t.displayName="ReactiveTextNode";Object.defineProperties($.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:$t},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});j("__b",function(t,e){if(typeof e.type=="string"){var r,n=e.props;for(var i in n)if(i!=="children"){var o=n[i];o instanceof $&&(r||(e.__np=r={}),r[i]=o,n[i]=o.peek())}}t(e)});j("__r",function(t,e){if(e.type!==X){ae();var r,n=e.__c;n&&(n.__$f&=-2,(r=n.__$u)===void 0&&(n.__$u=r=(function(i,o){var a;return Y(function(){a=this},{name:o}),a.c=i,a})(function(){var i;Mt&&((i=r.y)==null||i.call(r)),n.__$f|=1,n.setState({})},typeof e.type=="function"?e.type.displayName||e.type.name:""))),ae(r)}t(e)});j("__e",function(t,e,r,n){ae(),t(e,r,n)});j("diffed",function(t,e){ae();var r;if(typeof e.type=="string"&&(r=e.__e)){var n=e.__np,i=e.props;if(n){var o=r.U;if(o)for(var a in o){var u=o[a];u!==void 0&&!(a in n)&&(u.d(),o[a]=void 0)}else o={},r.U=o;for(var f in n){var s=o[f],d=n[f];s===void 0?(s=Ut(r,f,d,i),o[f]=s):s.o(d,i)}}}t(e)});function Ut(t,e,r,n){var i=e in t&&t.ownerSVGElement===void 0,o=w(r);return{o:function(a,u){o.value=a,n=u},d:Y(function(){this.N=kt;var a=o.value.value;n[e]!==a&&(n[e]=a,i?t[e]=a:a!=null&&(a!==!1||e[4]==="-")?t.setAttribute(e,a):t.removeAttribute(e))})}}j("unmount",function(t,e){if(typeof e.type=="string"){var r=e.__e;if(r){var n=r.U;if(n){r.U=void 0;for(var i in n){var o=n[i];o&&o.d()}}}}else{var a=e.__c;if(a){var u=a.__$u;u&&(a.__$u=void 0,u.d())}}t(e)});j("__h",function(t,e,r,n){(n<3||n===9)&&(e.__$f|=2),t(e,r,n)});J.prototype.shouldComponentUpdate=function(t,e){if(this.__R)return!0;var r=this.__$u,n=r&&r.s!==void 0;for(var i in e)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var o=2&this.__$f;if(!(n||o||4&this.__$f)||1&this.__$f)return!0}else if(!(n||4&this.__$f)||3&this.__$f)return!0;for(var a in t)if(a!=="__source"&&t[a]!==this.props[a])return!0;for(var u in this.props)if(!(u in t))return!0;return!1};function Lt(t,e){return dt(function(){return w(t,e)},[])}var Rt=function(t){queueMicrotask(function(){queueMicrotask(t)})};function jt(){zt(function(){for(var t;t=St.shift();)wt.call(t)})}function kt(){St.push(this)===1&&(h.requestAnimationFrame||Rt)(jt)}const xt="";async function pe(t,e){const r=await fetch(`${xt}${t}`,{...e,headers:{"Content-Type":"application/json",...e==null?void 0:e.headers}});if(!r.ok){const n=await r.text();throw new Error(`${r.status}: ${n}`)}return r.json()}function Wt(t){return pe(`/api/browse?path=${encodeURIComponent(t)}`)}function qt(t){return pe("/api/triage/start",{method:"POST",body:JSON.stringify(t)})}function Jt(t){return pe(`/api/triage/${t}/results`)}function Vt(t,e){return pe(`/api/triage/${t}/confirm`,{method:"POST",body:JSON.stringify(e)})}function Kt(t){return`${xt}/api/media/thumbnail?path=${encodeURIComponent(t)}`}const se=w(""),M=w([]),Ee=w(""),D=w(new Set),_e=w(!1),ue=w(null),Gt=new Set([".jpg",".jpeg",".png",".gif",".webp",".heic",".heif",".mp4",".mov",".avi",".webm",".mkv"]);function Ae(t){const e=t.name.slice(t.name.lastIndexOf(".")).toLowerCase();return!t.isDir&&Gt.has(e)}async function we(t){_e.value=!0,ue.value=null;try{const e=await Wt(t);se.value=e.path,Ee.value=e.parent,M.value=e.entries,D.value=new Set}catch(e){ue.value=e instanceof Error?e.message:"Failed to browse"}finally{_e.value=!1}}function Ze(t){const e=new Set(D.value);e.has(t)?e.delete(t):e.add(t),D.value=e}function Zt(){const t=M.value.filter(Ae).map(e=>e.path);D.value=new Set(t)}function Xt(){D.value=new Set([se.value])}function Yt(){me.value=Array.from(D.value),E.value="confirm-files"}function Qt(t){return t===0?"":t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`}function er(){ft(()=>{we(se.value)},[]);const t=M.value.filter(Ae).length,e=M.value.filter(r=>r.isDir).length;return _("div",{class:"card",children:[_("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:_("code",{style:{flex:1,padding:"0.5rem",fontSize:"0.8125rem"},children:se.value||"~"})}),ue.value&&_("div",{style:{color:"var(--color-danger)",marginBottom:"1rem",fontSize:"0.875rem"},children:ue.value}),_("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",flexWrap:"wrap"},children:[Ee.value!==""&&_("button",{class:"outline",onClick:()=>we(Ee.value),children:".. (up)"}),t>0&&_("button",{class:"outline",onClick:Zt,children:["Select all media (",t,")"]}),_("button",{class:"outline",onClick:Xt,children:"Select entire directory"})]}),_e.value?_("p",{style:{color:"var(--color-text-secondary)"},children:"Loading..."}):_("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[M.value.map(r=>{const n=Ae(r),i=r.isDir?!1:D.value.has(r.path);return _("div",{onClick:()=>{r.isDir?we(r.path):n&&Ze(r.path)},style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem 0.75rem",borderRadius:"var(--radius)",cursor:r.isDir||n?"pointer":"default",background:i?"rgba(108, 140, 255, 0.15)":"transparent",opacity:!r.isDir&&!n?.4:1},children:[_("span",{style:{width:"1.25rem",textAlign:"center"},children:r.isDir?"ðŸ“":n?"ðŸ–¼":"ðŸ“„"}),n&&_("input",{type:"checkbox",checked:i,onClick:o=>o.stopPropagation(),onChange:()=>Ze(r.path)}),_("span",{style:{flex:1,fontSize:"0.875rem"},children:r.name}),_("span",{style:{fontSize:"0.75rem",color:"var(--color-text-secondary)"},children:r.isDir?"dir":Qt(r.size)})]},r.path)}),M.value.length===0&&!_e.value&&_("p",{style:{color:"var(--color-text-secondary)",padding:"1rem",textAlign:"center"},children:e===0&&t===0?"Empty directory":"No entries"})]}),D.value.size>0&&_("div",{style:{marginTop:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_("span",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:[D.value.size," item(s) selected"]}),_("button",{class:"primary",onClick:Yt,children:"Continue"})]})]})}const K=w(!1),ce=w(null);async function tr(){K.value=!0,ce.value=null;try{const t=await qt({paths:me.value});L.value=t.id,E.value="processing"}catch(t){ce.value=t instanceof Error?t.message:"Failed to start triage"}finally{K.value=!1}}function rr(){E.value="browse"}function nr(){const t=me.value;return _("div",{class:"card",children:[_("h2",{children:"Files to triage"}),_("p",{style:{color:"var(--color-text-secondary)",fontSize:"0.875rem",marginBottom:"1rem"},children:["The following ",t.length," path(s) will be sent for AI triage analysis. Media files will be evaluated and categorized as keep or discard."]}),_("div",{style:{background:"var(--color-bg)",borderRadius:"var(--radius)",padding:"0.75rem",maxHeight:"400px",overflowY:"auto",marginBottom:"1.5rem"},children:t.map(e=>_("div",{style:{padding:"0.375rem 0",fontSize:"0.8125rem",fontFamily:"var(--font-mono)",borderBottom:"1px solid var(--color-border)"},children:e},e))}),ce.value&&_("div",{style:{color:"var(--color-danger)",marginBottom:"1rem",fontSize:"0.875rem"},children:ce.value}),_("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[_("button",{class:"outline",onClick:rr,disabled:K.value,children:"Back"}),_("button",{class:"primary",onClick:tr,disabled:K.value,children:K.value?"Starting...":"Start Triage"})]})]})}const C=w(null),T=w(new Set),fe=w(!1),F=w(null),Z=w(null);function ir(t){const e=setInterval(async()=>{try{const r=await Jt(t);C.value=r,(r.status==="complete"||r.status==="error")&&(clearInterval(e),E.value="results",r.discard.length>0&&(T.value=new Set(r.discard.map(n=>n.path))))}catch(r){Z.value=r instanceof Error?r.message:"Failed to poll results",clearInterval(e)}},2e3);return()=>clearInterval(e)}function or(t){const e=new Set(T.value);e.has(t)?e.delete(t):e.add(t),T.value=e}function lr(){C.value&&(T.value=new Set(C.value.discard.map(t=>t.path)))}function ar(){T.value=new Set}async function sr(){if(L.value){fe.value=!0;try{const t=await Vt(L.value,{deletePaths:Array.from(T.value)});F.value=t}catch(t){Z.value=t instanceof Error?t.message:"Failed to confirm deletion"}finally{fe.value=!1}}}function Se(){C.value=null,T.value=new Set,F.value=null,Z.value=null,L.value=null,me.value=[],E.value="browse"}function _r(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`}function Xe({item:t,selectable:e,isSelected:r,onToggle:n}){return _("div",{onClick:e?n:void 0,style:{background:r?"rgba(255, 107, 107, 0.1)":"var(--color-bg)",border:r?"2px solid var(--color-danger)":"2px solid transparent",borderRadius:"var(--radius)",overflow:"hidden",cursor:e?"pointer":"default"},children:[_("div",{style:{width:"100%",aspectRatio:"1",background:"var(--color-surface-hover)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[_("img",{src:Kt(t.path),alt:t.filename,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"},onError:i=>{i.target.style.display="none"}}),e&&_("input",{type:"checkbox",checked:r,onClick:i=>i.stopPropagation(),onChange:n,style:{position:"absolute",top:"0.5rem",left:"0.5rem",width:"1.25rem",height:"1.25rem"}})]}),_("div",{style:{padding:"0.5rem"},children:[_("div",{style:{fontSize:"0.75rem",fontFamily:"var(--font-mono)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.filename}),_("div",{style:{fontSize:"0.6875rem",color:"var(--color-text-secondary)",marginTop:"0.25rem"},children:t.reason})]})]})}function ur(){if(ft(()=>{if(L.value&&!C.value)return ir(L.value)},[]),F.value)return _("div",{class:"card",style:{textAlign:"center"},children:[_("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:F.value.errors.length===0?"Done":"Completed with errors"}),_("p",{children:["Deleted ",F.value.deleted," file(s), reclaimed"," ",_r(F.value.reclaimedBytes),"."]}),F.value.errors.length>0&&_("div",{style:{color:"var(--color-danger)",marginTop:"1rem",fontSize:"0.875rem"},children:F.value.errors.map(r=>_("div",{children:r},r))}),_("button",{class:"primary",onClick:Se,style:{marginTop:"1.5rem"},children:"Start Over"})]});if(!C.value||C.value.status==="pending"||C.value.status==="processing")return _("div",{class:"card",style:{textAlign:"center",padding:"3rem"},children:_("p",{style:{color:"var(--color-text-secondary)"},children:"Analyzing media with AI... This may take a minute."})});if(C.value.status==="error")return _("div",{class:"card",children:[_("p",{style:{color:"var(--color-danger)"},children:["Triage failed: ",C.value.error]}),_("button",{class:"outline",onClick:Se,style:{marginTop:"1rem"},children:"Start Over"})]});const{keep:t,discard:e}=C.value;return _("div",{children:[Z.value&&_("div",{style:{color:"var(--color-danger)",marginBottom:"1rem",fontSize:"0.875rem"},children:Z.value}),_("div",{class:"card",style:{marginBottom:"1.5rem"},children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[_("h2",{style:{color:"var(--color-danger)"},children:["Discard (",e.length,")"]}),_("div",{style:{display:"flex",gap:"0.5rem"},children:[_("button",{class:"outline",onClick:lr,children:"Select all"}),_("button",{class:"outline",onClick:ar,children:"Deselect all"})]})]}),_("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"0.75rem"},children:e.map(r=>_(Xe,{item:r,selectable:!0,isSelected:T.value.has(r.path),onToggle:()=>or(r.path)},r.path))})]}),_("div",{class:"card",style:{marginBottom:"1.5rem"},children:[_("h2",{style:{color:"var(--color-success)",marginBottom:"1rem"},children:["Keep (",t.length,")"]}),_("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"0.75rem"},children:t.map(r=>_(Xe,{item:r,selectable:!1,isSelected:!1},r.path))})]}),_("div",{style:{position:"sticky",bottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 1.5rem",background:"var(--color-surface)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border)"},children:[_("span",{style:{fontSize:"0.875rem"},children:[T.value.size," of ",e.length," marked for deletion"]}),_("div",{style:{display:"flex",gap:"0.75rem"},children:[_("button",{class:"outline",onClick:Se,children:"Cancel"}),_("button",{class:"danger",onClick:sr,disabled:T.value.size===0||fe.value,children:fe.value?"Deleting...":`Delete ${T.value.size} file(s)`})]})]})]})}const E=w("browse"),me=w([]),L=w(null),cr=Pe(()=>{switch(E.value){case"browse":return"Select Media";case"confirm-files":return"Confirm Selection";case"processing":return"Processing...";case"results":return"Triage Results"}});function fr(){return _("div",{children:[_("header",{style:{marginBottom:"2rem"},children:[_("h1",{children:"Media Triage"}),_("p",{style:{color:"var(--color-text-secondary)"},children:cr.value})]}),E.value==="browse"&&_(er,{}),E.value==="confirm-files"&&_(nr,{}),(E.value==="processing"||E.value==="results")&&_(ur,{})]})}Nt(_(fr,{}),document.getElementById("app"));
