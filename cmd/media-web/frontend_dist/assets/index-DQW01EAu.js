(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var fe,h,Ge,Ze,U,Be,Ye,Qe,Xe,Te,we,Se,Z={},et=[],kt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,de=Array.isArray;function F(t,e){for(var r in e)t[r]=e[r];return t}function Pe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function $t(t,e,r){var n,i,o,a={};for(o in e)o=="key"?n=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?fe.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return ne(t,a,n,i,null)}function ne(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Ge,__i:-1,__u:0};return i==null&&h.vnode!=null&&h.vnode(o),o}function Q(t){return t.children}function V(t,e){this.props=t,this.context=e}function R(t,e){if(e==null)return t.__?R(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?R(t):null}function tt(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return tt(t)}}function Ie(t){(!t.__d&&(t.__d=!0)&&U.push(t)&&!oe.__r++||Be!=h.debounceRendering)&&((Be=h.debounceRendering)||Ye)(oe)}function oe(){for(var t,e,r,n,i,o,a,_=1;U.length;)U.length>_&&U.sort(Qe),t=U.shift(),_=U.length,t.__d&&(r=void 0,n=void 0,i=(n=(e=t).__v).__e,o=[],a=[],e.__P&&((r=F({},n)).__v=n.__v+1,h.vnode&&h.vnode(r),Ae(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,o,i??R(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,it(o,r,a),n.__e=n.__=null,r.__e!=i&&tt(r)));oe.__r=0}function rt(t,e,r,n,i,o,a,_,f,s,d){var l,m,c,b,x,S,y,p=n&&n.__k||et,N=e.length;for(f=xt(r,e,p,f,N),l=0;l<N;l++)(c=r.__k[l])!=null&&(m=c.__i==-1?Z:p[c.__i]||Z,c.__i=l,S=Ae(t,c,m,i,o,a,_,f,s,d),b=c.__e,c.ref&&m.ref!=c.ref&&(m.ref&&Ee(m.ref,null,c),d.push(c.ref,c.__c||b,c)),x==null&&b!=null&&(x=b),(y=!!(4&c.__u))||m.__k===c.__k?f=nt(c,f,t,y):typeof c.type=="function"&&S!==void 0?f=S:b&&(f=b.nextSibling),c.__u&=-7);return r.__e=x,f}function xt(t,e,r,n,i){var o,a,_,f,s,d=r.length,l=d,m=0;for(t.__k=new Array(i),o=0;o<i;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=t.__k[o]=ne(null,a,null,null,null):de(a)?a=t.__k[o]=ne(Q,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?a=t.__k[o]=ne(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):t.__k[o]=a,f=o+m,a.__=t,a.__b=t.__b+1,_=null,(s=a.__i=Ct(a,r,f,l))!=-1&&(l--,(_=r[s])&&(_.__u|=2)),_==null||_.__v==null?(s==-1&&(i>d?m--:i<d&&m++),typeof a.type!="function"&&(a.__u|=4)):s!=f&&(s==f-1?m--:s==f+1?m++:(s>f?m--:m++,a.__u|=4))):t.__k[o]=null;if(l)for(o=0;o<d;o++)(_=r[o])!=null&&(2&_.__u)==0&&(_.__e==n&&(n=R(_)),lt(_,_));return n}function nt(t,e,r,n){var i,o;if(typeof t.type=="function"){for(i=t.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=t,e=nt(i[o],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=R(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Ct(t,e,r,n){var i,o,a,_=t.key,f=t.type,s=e[r],d=s!=null&&(2&s.__u)==0;if(s===null&&_==null||d&&_==s.key&&f==s.type)return r;if(n>(d?1:0)){for(i=r-1,o=r+1;i>=0||o<e.length;)if((s=e[a=i>=0?i--:o++])!=null&&(2&s.__u)==0&&_==s.key&&f==s.type)return a}return-1}function Ue(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||kt.test(e)?r:r+"px"}function re(t,e,r,n,i){var o,a;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Ue(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||Ue(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(Xe,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n?r.u=n.u:(r.u=Te,t.addEventListener(e,o?Se:we,o)):t.removeEventListener(e,o?Se:we,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function He(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Te++;else if(e.t<r.u)return;return r(h.event?h.event(e):e)}}}function Ae(t,e,r,n,i,o,a,_,f,s){var d,l,m,c,b,x,S,y,p,N,I,ee,q,Oe,te,J,me,P=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(f=!!(32&r.__u),o=[_=e.__e=r.__e]),(d=h.__b)&&d(e);e:if(typeof P=="function")try{if(y=e.props,p="prototype"in P&&P.prototype.render,N=(d=P.contextType)&&n[d.__c],I=d?N?N.props.value:d.__:n,r.__c?S=(l=e.__c=r.__c).__=l.__E:(p?e.__c=l=new P(y,I):(e.__c=l=new V(y,I),l.constructor=P,l.render=Pt),N&&N.sub(l),l.state||(l.state={}),l.__n=n,m=l.__d=!0,l.__h=[],l._sb=[]),p&&l.__s==null&&(l.__s=l.state),p&&P.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=F({},l.__s)),F(l.__s,P.getDerivedStateFromProps(y,l.__s))),c=l.props,b=l.state,l.__v=e,m)p&&P.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),p&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(p&&P.getDerivedStateFromProps==null&&y!==c&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,I),e.__v==r.__v||!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,I)===!1){for(e.__v!=r.__v&&(l.props=y,l.state=l.__s,l.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(M){M&&(M.__=e)}),ee=0;ee<l._sb.length;ee++)l.__h.push(l._sb[ee]);l._sb=[],l.__h.length&&a.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,I),p&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(c,b,x)})}if(l.context=I,l.props=y,l.__P=t,l.__e=!1,q=h.__r,Oe=0,p){for(l.state=l.__s,l.__d=!1,q&&q(e),d=l.render(l.props,l.state,l.context),te=0;te<l._sb.length;te++)l.__h.push(l._sb[te]);l._sb=[]}else do l.__d=!1,q&&q(e),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++Oe<25);l.state=l.__s,l.getChildContext!=null&&(n=F(F({},n),l.getChildContext())),p&&!m&&l.getSnapshotBeforeUpdate!=null&&(x=l.getSnapshotBeforeUpdate(c,b)),J=d,d!=null&&d.type===Q&&d.key==null&&(J=ot(d.props.children)),_=rt(t,de(J)?J:[J],e,r,n,i,o,a,_,f,s),l.base=e.__e,e.__u&=-161,l.__h.length&&a.push(l),S&&(l.__E=l.__=null)}catch(M){if(e.__v=null,f||o!=null)if(M.then){for(e.__u|=f?160:128;_&&_.nodeType==8&&_.nextSibling;)_=_.nextSibling;o[o.indexOf(_)]=null,e.__e=_}else{for(me=o.length;me--;)Pe(o[me]);ke(e)}else e.__e=r.__e,e.__k=r.__k,M.then||ke(e);h.__e(M,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):_=e.__e=Tt(r.__e,e,r,n,i,o,a,f,s);return(d=h.diffed)&&d(e),128&e.__u?void 0:_}function ke(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ke)}function it(t,e,r){for(var n=0;n<r.length;n++)Ee(r[n],r[++n],r[++n]);h.__c&&h.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(o){o.call(i)})}catch(o){h.__e(o,i.__v)}})}function ot(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:de(t)?t.map(ot):F({},t)}function Tt(t,e,r,n,i,o,a,_,f){var s,d,l,m,c,b,x,S=r.props||Z,y=e.props,p=e.type;if(p=="svg"?i="http://www.w3.org/2000/svg":p=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(s=0;s<o.length;s++)if((c=o[s])&&"setAttribute"in c==!!p&&(p?c.localName==p:c.nodeType==3)){t=c,o[s]=null;break}}if(t==null){if(p==null)return document.createTextNode(y);t=document.createElementNS(i,p,y.is&&y),_&&(h.__m&&h.__m(e,o),_=!1),o=null}if(p==null)S===y||_&&t.data==y||(t.data=y);else{if(o=o&&fe.call(t.childNodes),!_&&o!=null)for(S={},s=0;s<t.attributes.length;s++)S[(c=t.attributes[s]).name]=c.value;for(s in S)if(c=S[s],s!="children"){if(s=="dangerouslySetInnerHTML")l=c;else if(!(s in y)){if(s=="value"&&"defaultValue"in y||s=="checked"&&"defaultChecked"in y)continue;re(t,s,null,c,i)}}for(s in y)c=y[s],s=="children"?m=c:s=="dangerouslySetInnerHTML"?d=c:s=="value"?b=c:s=="checked"?x=c:_&&typeof c!="function"||S[s]===c||re(t,s,c,S[s],i);if(d)_||l&&(d.__html==l.__html||d.__html==t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(l&&(t.innerHTML=""),rt(e.type=="template"?t.content:t,de(m)?m:[m],e,r,n,p=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:r.__k&&R(r,0),_,f),o!=null)for(s=o.length;s--;)Pe(o[s]);_||(s="value",p=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[s]||p=="progress"&&!b||p=="option"&&b!=S[s])&&re(t,s,b,S[s],i),s="checked",x!=null&&x!=t[s]&&re(t,s,x,S[s],i))}return t}function Ee(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){h.__e(i,r)}}function lt(t,e,r){var n,i;if(h.unmount&&h.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||Ee(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){h.__e(o,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&lt(n[i],e,r||typeof t.type!="function");r||Pe(t.__e),t.__c=t.__=t.__e=void 0}function Pt(t,e,r){return this.constructor(t,r)}function At(t,e,r){var n,i,o,a;e==document&&(e=document.documentElement),h.__&&h.__(t,e),i=(n=!1)?null:e.__k,o=[],a=[],Ae(e,t=e.__k=$t(Q,null,[t]),i||Z,Z,e.namespaceURI,i?null:e.firstChild?fe.call(e.childNodes):null,o,i?i.__e:e.firstChild,n,a),it(o,t,a)}fe=et.slice,h={__e:function(t,e,r,n){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),a=i.__d),a)return i.__E=i}catch(_){t=_}throw t}},Ge=0,Ze=function(t){return t!=null&&t.constructor===void 0},V.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=F({},this.state),typeof t=="function"&&(t=t(F({},r),this.props)),t&&F(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ie(this))},V.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ie(this))},V.prototype.render=Q,U=[],Ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qe=function(t,e){return t.__v.__b-e.__v.__b},oe.__r=0,Xe=/(PointerCapture)$|Capture$/i,Te=0,we=He(!1),Se=He(!0);var Et=0;function u(t,e,r,n,i,o){e||(e={});var a,_,f=e;if("ref"in f)for(_ in f={},e)_=="ref"?a=e[_]:f[_]=e[_];var s={type:t,props:f,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Et,__i:-1,__u:0,__source:i,__self:o};if(typeof t=="function"&&(a=t.defaultProps))for(_ in a)f[_]===void 0&&(f[_]=a[_]);return h.vnode&&h.vnode(s),s}var le,$,ye,ze,De=0,at=[],g=h,Me=g.__b,Re=g.__r,Le=g.diffed,je=g.__c,We=g.unmount,qe=g.__;function st(t,e){g.__h&&g.__h($,t,De||e),De=0;var r=$.__H||($.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function Ft(t,e){var r=st(le++,3);!g.__s&&ut(r.__H,e)&&(r.__=t,r.u=e,$.__H.__h.push(r))}function _t(t,e){var r=st(le++,7);return ut(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function Nt(){for(var t;t=at.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ie),t.__H.__h.forEach($e),t.__H.__h=[]}catch(e){t.__H.__h=[],g.__e(e,t.__v)}}g.__b=function(t){$=null,Me&&Me(t)},g.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),qe&&qe(t,e)},g.__r=function(t){Re&&Re(t),le=0;var e=($=t.__c).__H;e&&(ye===$?(e.__h=[],$.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(ie),e.__h.forEach($e),e.__h=[],le=0)),ye=$},g.diffed=function(t){Le&&Le(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(at.push(e)!==1&&ze===g.requestAnimationFrame||((ze=g.requestAnimationFrame)||Ot)(Nt)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),ye=$=null},g.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ie),r.__h=r.__h.filter(function(n){return!n.__||$e(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],g.__e(n,r.__v)}}),je&&je(t,e)},g.unmount=function(t){We&&We(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ie(n)}catch(i){e=i}}),r.__H=void 0,e&&g.__e(e,r.__v))};var Je=typeof requestAnimationFrame=="function";function Ot(t){var e,r=function(){clearTimeout(n),Je&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);Je&&(e=requestAnimationFrame(r))}function ie(t){var e=$,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),$=e}function $e(t){var e=$;t.__c=t.__(),$=e}function ut(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}var Bt=Symbol.for("preact-signals");function ve(){if(O>1)O--;else{for(var t,e=!1;K!==void 0;){var r=K;for(K=void 0,xe++;r!==void 0;){var n=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&dt(r))try{r.c()}catch(i){e||(t=i,e=!0)}r=n}}if(xe=0,O--,e)throw t}}function It(t){if(O>0)return t();O++;try{return t()}finally{ve()}}var v=void 0;function ct(t){var e=v;v=void 0;try{return t()}finally{v=e}}var K=void 0,O=0,xe=0,ae=0;function ft(t){if(v!==void 0){var e=t.n;if(e===void 0||e.t!==v)return e={i:0,S:t,p:v.s,n:void 0,t:v,e:void 0,x:void 0,r:e},v.s!==void 0&&(v.s.n=e),v.s=e,t.n=e,32&v.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=v.s,e.n=void 0,v.s.n=e,v.s=e),e}}function k(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}k.prototype.brand=Bt;k.prototype.h=function(){return!0};k.prototype.S=function(t){var e=this,r=this.t;r!==t&&t.e===void 0&&(t.x=r,this.t=t,r!==void 0?r.e=t:ct(function(){var n;(n=e.W)==null||n.call(e)}))};k.prototype.U=function(t){var e=this;if(this.t!==void 0){var r=t.e,n=t.x;r!==void 0&&(r.x=n,t.e=void 0),n!==void 0&&(n.e=r,t.x=void 0),t===this.t&&(this.t=n,n===void 0&&ct(function(){var i;(i=e.Z)==null||i.call(e)}))}};k.prototype.subscribe=function(t){var e=this;return X(function(){var r=e.value,n=v;v=void 0;try{t(r)}finally{v=n}},{name:"sub"})};k.prototype.valueOf=function(){return this.value};k.prototype.toString=function(){return this.value+""};k.prototype.toJSON=function(){return this.value};k.prototype.peek=function(){var t=v;v=void 0;try{return this.value}finally{v=t}};Object.defineProperty(k.prototype,"value",{get:function(){var t=ft(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(xe>100)throw new Error("Cycle detected");this.v=t,this.i++,ae++,O++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{ve()}}}});function w(t,e){return new k(t,e)}function dt(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function vt(t){for(var e=t.s;e!==void 0;e=e.n){var r=e.S.n;if(r!==void 0&&(e.r=r),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function ht(t){for(var e=t.s,r=void 0;e!==void 0;){var n=e.p;e.i===-1?(e.S.U(e),n!==void 0&&(n.n=e.n),e.n!==void 0&&(e.n.p=n)):r=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=n}t.s=r}function D(t,e){k.call(this,void 0),this.x=t,this.s=void 0,this.g=ae-1,this.f=4,this.W=e==null?void 0:e.watched,this.Z=e==null?void 0:e.unwatched,this.name=e==null?void 0:e.name}D.prototype=new k;D.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===ae))return!0;if(this.g=ae,this.f|=1,this.i>0&&!dt(this))return this.f&=-2,!0;var t=v;try{vt(this),v=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return v=t,ht(this),this.f&=-2,!0};D.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}k.prototype.S.call(this,t)};D.prototype.U=function(t){if(this.t!==void 0&&(k.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};D.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(D.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=ft(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function Ce(t,e){return new D(t,e)}function pt(t){var e=t.u;if(t.u=void 0,typeof e=="function"){O++;var r=v;v=void 0;try{e()}catch(n){throw t.f&=-2,t.f|=8,Fe(t),n}finally{v=r,ve()}}}function Fe(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,pt(t)}function Ut(t){if(v!==this)throw new Error("Out-of-order effect");ht(this),v=t,this.f&=-2,8&this.f&&Fe(this),ve()}function j(t,e){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e==null?void 0:e.name}j.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};j.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,pt(this),vt(this),O++;var t=v;return v=this,Ut.bind(this,t)};j.prototype.N=function(){2&this.f||(this.f|=2,this.o=K,K=this)};j.prototype.d=function(){this.f|=8,1&this.f||Fe(this)};j.prototype.dispose=function(){this.d()};function X(t,e){var r=new j(t,e);try{r.c()}catch(i){throw r.d(),i}var n=r.d.bind(r);return n[Symbol.dispose]=n,n}var mt,ge,Ht=typeof window<"u"&&!!window.__PREACT_SIGNALS_DEVTOOLS__,yt=[];X(function(){mt=this.N})();function W(t,e){h[t]=e.bind(null,h[t]||function(){})}function se(t){ge&&ge(),ge=t&&t.S()}function gt(t){var e=this,r=t.data,n=Dt(r);n.value=r;var i=_t(function(){for(var _=e,f=e.__v;f=f.__;)if(f.__c){f.__c.__$f|=4;break}var s=Ce(function(){var c=n.value.value;return c===0?0:c===!0?"":c||""}),d=Ce(function(){return!Array.isArray(s.value)&&!Ze(s.value)}),l=X(function(){if(this.N=bt,d.value){var c=s.value;_.__v&&_.__v.__e&&_.__v.__e.nodeType===3&&(_.__v.__e.data=c)}}),m=e.__$u.d;return e.__$u.d=function(){l(),m.call(this)},[d,s]},[]),o=i[0],a=i[1];return o.value?a.peek():a.value}gt.displayName="ReactiveTextNode";Object.defineProperties(k.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:gt},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});W("__b",function(t,e){if(typeof e.type=="string"){var r,n=e.props;for(var i in n)if(i!=="children"){var o=n[i];o instanceof k&&(r||(e.__np=r={}),r[i]=o,n[i]=o.peek())}}t(e)});W("__r",function(t,e){if(e.type!==Q){se();var r,n=e.__c;n&&(n.__$f&=-2,(r=n.__$u)===void 0&&(n.__$u=r=(function(i,o){var a;return X(function(){a=this},{name:o}),a.c=i,a})(function(){var i;Ht&&((i=r.y)==null||i.call(r)),n.__$f|=1,n.setState({})},typeof e.type=="function"?e.type.displayName||e.type.name:""))),se(r)}t(e)});W("__e",function(t,e,r,n){se(),t(e,r,n)});W("diffed",function(t,e){se();var r;if(typeof e.type=="string"&&(r=e.__e)){var n=e.__np,i=e.props;if(n){var o=r.U;if(o)for(var a in o){var _=o[a];_!==void 0&&!(a in n)&&(_.d(),o[a]=void 0)}else o={},r.U=o;for(var f in n){var s=o[f],d=n[f];s===void 0?(s=zt(r,f,d,i),o[f]=s):s.o(d,i)}}}t(e)});function zt(t,e,r,n){var i=e in t&&t.ownerSVGElement===void 0,o=w(r);return{o:function(a,_){o.value=a,n=_},d:X(function(){this.N=bt;var a=o.value.value;n[e]!==a&&(n[e]=a,i?t[e]=a:a!=null&&(a!==!1||e[4]==="-")?t.setAttribute(e,a):t.removeAttribute(e))})}}W("unmount",function(t,e){if(typeof e.type=="string"){var r=e.__e;if(r){var n=r.U;if(n){r.U=void 0;for(var i in n){var o=n[i];o&&o.d()}}}}else{var a=e.__c;if(a){var _=a.__$u;_&&(a.__$u=void 0,_.d())}}t(e)});W("__h",function(t,e,r,n){(n<3||n===9)&&(e.__$f|=2),t(e,r,n)});V.prototype.shouldComponentUpdate=function(t,e){if(this.__R)return!0;var r=this.__$u,n=r&&r.s!==void 0;for(var i in e)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var o=2&this.__$f;if(!(n||o||4&this.__$f)||1&this.__$f)return!0}else if(!(n||4&this.__$f)||3&this.__$f)return!0;for(var a in t)if(a!=="__source"&&t[a]!==this.props[a])return!0;for(var _ in this.props)if(!(_ in t))return!0;return!1};function Dt(t,e){return _t(function(){return w(t,e)},[])}var Mt=function(t){queueMicrotask(function(){queueMicrotask(t)})};function Rt(){It(function(){for(var t;t=yt.shift();)mt.call(t)})}function bt(){yt.push(this)===1&&(h.requestAnimationFrame||Mt)(Rt)}const wt=!1,Ne="";async function he(t,e){const r=await fetch(`${Ne}${t}`,{...e,headers:{"Content-Type":"application/json",...e==null?void 0:e.headers}});if(!r.ok){const n=await r.text();throw new Error(`${r.status}: ${n}`)}return r.json()}function Lt(t){return he("/api/pick",{method:"POST",body:JSON.stringify(t)})}function jt(t){return he("/api/triage/start",{method:"POST",body:JSON.stringify(t)})}function Wt(t){return he(`/api/triage/${t}/results`)}function qt(t,e){return he(`/api/triage/${t}/confirm`,{method:"POST",body:JSON.stringify(e)})}function Jt(t){return`${Ne}/api/media/thumbnail?path=${encodeURIComponent(t)}`}function Vt(t){return`${Ne}/api/media/full?path=${encodeURIComponent(t)}`}async function Kt(t){window.open(Vt(t),"_blank")}const B=w([]),H=w(!1),_e=w(null);async function Ve(t){H.value=!0,_e.value=null;try{const e=await Lt({mode:t});if(e.canceled)return;const r=new Set([...B.value,...e.paths]);B.value=Array.from(r)}catch(e){_e.value=e instanceof Error?e.message:"Failed to open file picker"}finally{H.value=!1}}function Gt(t){B.value=B.value.filter(e=>e!==t)}function Zt(){B.value=[]}function Yt(){pe.value=B.value,A.value="confirm-files"}function Qt(t){const e=t.split("/");return e[e.length-1]||t}function Xt(){const t=B.value.length;return u("div",{class:"card",children:[u("p",{style:{color:"var(--color-text-secondary)",fontSize:"0.875rem",marginBottom:"1.5rem"},children:"Choose media files or a folder using your system file picker."}),u("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[u("button",{class:"primary",onClick:()=>Ve("files"),disabled:H.value,children:H.value?"Opening...":"Pick Files"}),u("button",{class:"outline",onClick:()=>Ve("directory"),disabled:H.value,children:H.value?"Opening...":"Pick Folder"}),t>0&&u("button",{class:"outline",onClick:Zt,disabled:H.value,style:{marginLeft:"auto"},children:"Clear all"})]}),_e.value&&u("div",{style:{color:"var(--color-danger)",marginBottom:"1rem",fontSize:"0.875rem"},children:_e.value}),t>0&&u("div",{style:{background:"var(--color-bg)",borderRadius:"var(--radius)",padding:"0.5rem",maxHeight:"400px",overflowY:"auto",marginBottom:"1.5rem"},children:B.value.map(e=>u("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.375rem 0.5rem",borderBottom:"1px solid var(--color-border)"},children:[u("span",{style:{flex:1,fontSize:"0.8125rem",fontFamily:"var(--font-mono)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:e,children:Qt(e)}),u("span",{style:{fontSize:"0.6875rem",color:"var(--color-text-secondary)",flexShrink:0,maxWidth:"50%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",direction:"rtl",textAlign:"left"},title:e,children:e}),u("button",{class:"outline",onClick:()=>Gt(e),style:{padding:"0.125rem 0.5rem",fontSize:"0.75rem",flexShrink:0},children:"Remove"})]},e))}),t===0&&u("p",{style:{color:"var(--color-text-secondary)",padding:"2rem 1rem",textAlign:"center",fontSize:"0.875rem"},children:"No files selected yet. Use the buttons above to open the file picker."}),t>0&&u("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u("span",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:[t," item(s) selected"]}),u("button",{class:"primary",onClick:Yt,children:"Continue"})]})]})}w([]);w(null);const G=w(!1),ue=w(null);async function er(){G.value=!0,ue.value=null;try{const t=wt?{sessionId:St.value}:{paths:pe.value},e=await jt(t);L.value=e.id,A.value="processing"}catch(t){ue.value=t instanceof Error?t.message:"Failed to start triage"}finally{G.value=!1}}function tr(){A.value="browse"}function rr(){const t=pe.value;return u("div",{class:"card",children:[u("h2",{children:"Files to triage"}),u("p",{style:{color:"var(--color-text-secondary)",fontSize:"0.875rem",marginBottom:"1rem"},children:["The following ",t.length," file(s) will be sent for AI triage analysis. Media files will be evaluated and categorized as keep or discard."]}),u("div",{style:{background:"var(--color-bg)",borderRadius:"var(--radius)",padding:"0.75rem",maxHeight:"400px",overflowY:"auto",marginBottom:"1.5rem"},children:t.map(e=>u("div",{style:{padding:"0.375rem 0",fontSize:"0.8125rem",fontFamily:"var(--font-mono)",borderBottom:"1px solid var(--color-border)"},children:e},e))}),ue.value&&u("div",{style:{color:"var(--color-danger)",marginBottom:"1rem",fontSize:"0.875rem"},children:ue.value}),u("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"flex-end"},children:[u("button",{class:"outline",onClick:tr,disabled:G.value,children:"Back"}),u("button",{class:"primary",onClick:er,disabled:G.value,children:G.value?"Starting...":"Start Triage"})]})]})}const C=w(null),T=w(new Set),ce=w(!1),E=w(null),Y=w(null);function z(t){return t.path}function nr(t){return Jt(t.path)}function ir(t){const e=setInterval(async()=>{try{const r=await Wt(t);C.value=r,(r.status==="complete"||r.status==="error")&&(clearInterval(e),A.value="results",r.discard.length>0&&(T.value=new Set(r.discard.map(n=>z(n)))))}catch(r){Y.value=r instanceof Error?r.message:"Failed to poll results",clearInterval(e)}},2e3);return()=>clearInterval(e)}function or(t){const e=new Set(T.value);e.has(t)?e.delete(t):e.add(t),T.value=e}function lr(){C.value&&(T.value=new Set(C.value.discard.map(t=>z(t))))}function ar(){T.value=new Set}async function sr(){if(L.value){ce.value=!0;try{const t=Array.from(T.value),e=wt?{deleteKeys:t}:{deletePaths:t},r=await qt(L.value,e);E.value=r}catch(t){Y.value=t instanceof Error?t.message:"Failed to confirm deletion"}finally{ce.value=!1}}}function be(){C.value=null,T.value=new Set,E.value=null,Y.value=null,L.value=null,pe.value=[],St.value=null,A.value="browse"}function _r(t){return t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`}function Ke({item:t,selectable:e,isSelected:r,onToggle:n}){return u("div",{onClick:e?n:void 0,style:{background:r?"rgba(255, 107, 107, 0.1)":"var(--color-bg)",border:r?"2px solid var(--color-danger)":"2px solid transparent",borderRadius:"var(--radius)",overflow:"hidden",cursor:e?"pointer":"default"},children:[u("div",{style:{width:"100%",aspectRatio:"1",background:"var(--color-surface-hover)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[u("img",{src:nr(t),alt:t.filename,title:t.filename,loading:"lazy",onClick:i=>{i.stopPropagation(),Kt(z(t))},style:{width:"100%",height:"100%",objectFit:"cover",cursor:"zoom-in"},onError:i=>{i.target.style.display="none"}}),e&&u("input",{type:"checkbox",checked:r,onClick:i=>i.stopPropagation(),onChange:n,style:{position:"absolute",top:"0.5rem",left:"0.5rem",width:"1.25rem",height:"1.25rem"}})]}),u("div",{style:{padding:"0.5rem"},children:[u("div",{title:t.filename,style:{fontSize:"0.75rem",fontFamily:"var(--font-mono)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.filename}),u("div",{style:{fontSize:"0.6875rem",color:"var(--color-text-secondary)",marginTop:"0.25rem"},children:t.reason})]})]})}function ur(){if(Ft(()=>{if(L.value&&!C.value)return ir(L.value)},[]),E.value)return u("div",{class:"card",style:{textAlign:"center"},children:[u("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:E.value.errors.length===0?"Done":"Completed with errors"}),u("p",{children:["Deleted ",E.value.deleted," file(s)",E.value.reclaimedBytes>0&&`, reclaimed ${_r(E.value.reclaimedBytes)}`,"."]}),E.value.errors.length>0&&u("div",{style:{color:"var(--color-danger)",marginTop:"1rem",fontSize:"0.875rem"},children:E.value.errors.map(r=>u("div",{children:r},r))}),u("button",{class:"primary",onClick:be,style:{marginTop:"1.5rem"},children:"Start Over"})]});if(!C.value||C.value.status==="pending"||C.value.status==="processing")return u("div",{class:"card",style:{textAlign:"center",padding:"3rem"},children:u("p",{style:{color:"var(--color-text-secondary)"},children:"Analyzing media with AI... This may take a minute."})});if(C.value.status==="error")return u("div",{class:"card",children:[u("p",{style:{color:"var(--color-danger)"},children:["Triage failed: ",C.value.error]}),u("button",{class:"outline",onClick:be,style:{marginTop:"1rem"},children:"Start Over"})]});const{keep:t,discard:e}=C.value;return u("div",{children:[Y.value&&u("div",{style:{color:"var(--color-danger)",marginBottom:"1rem",fontSize:"0.875rem"},children:Y.value}),u("div",{class:"card",style:{marginBottom:"1.5rem"},children:[u("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[u("h2",{style:{color:"var(--color-danger)"},children:["Discard (",e.length,")"]}),u("div",{style:{display:"flex",gap:"0.5rem"},children:[u("button",{class:"outline",onClick:lr,children:"Select all"}),u("button",{class:"outline",onClick:ar,children:"Deselect all"})]})]}),u("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"0.75rem"},children:e.map(r=>u(Ke,{item:r,selectable:!0,isSelected:T.value.has(z(r)),onToggle:()=>or(z(r))},z(r)))})]}),u("div",{class:"card",style:{marginBottom:"1.5rem"},children:[u("h2",{style:{color:"var(--color-success)",marginBottom:"1rem"},children:["Keep (",t.length,")"]}),u("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"0.75rem"},children:t.map(r=>u(Ke,{item:r,selectable:!1,isSelected:!1},z(r)))})]}),u("div",{style:{position:"sticky",bottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem 1.5rem",background:"var(--color-surface)",borderRadius:"var(--radius-lg)",border:"1px solid var(--color-border)"},children:[u("span",{style:{fontSize:"0.875rem"},children:[T.value.size," of ",e.length," marked for deletion"]}),u("div",{style:{display:"flex",gap:"0.75rem"},children:[u("button",{class:"outline",onClick:be,children:"Cancel"}),u("button",{class:"danger",onClick:sr,disabled:T.value.size===0||ce.value,children:ce.value?"Deleting...":`Delete ${T.value.size} file(s)`})]})]})]})}const A=w("browse"),pe=w([]),L=w(null),St=w(null),cr=Ce(()=>{switch(A.value){case"browse":return"Select Media";case"confirm-files":return"Confirm Selection";case"processing":return"Processing...";case"results":return"Triage Results"}});function fr(){return u("div",{children:[u("header",{style:{marginBottom:"2rem"},children:[u("h1",{children:"Media Triage"}),u("p",{style:{color:"var(--color-text-secondary)"},children:cr.value})]}),A.value==="browse"&&u(Xt,{}),A.value==="confirm-files"&&u(rr,{}),(A.value==="processing"||A.value==="results")&&u(ur,{})]})}At(u(fr,{}),document.getElementById("app"));
